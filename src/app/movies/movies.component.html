<div class="movies section container is-fluid">

  <div class="filter">
    <div class="columns is-mobile">
      <div class="column">
        <p *ngIf="title" class="title is-4 is-paddingless">{{ title }}</p>
      </div>
      <div class="column is-narrow">
        <div class="select is-rounded is-grey">
          <select [(ngModel)]="filter" (ngModelChange)="onFilterChange($event)">
            <option value="" selected disabled hidden>Filter by Rating</option>
            <option class="G">G</option>
            <option class="PG">PG</option>
            <option class="PG-13">PG-13</option>
            <option class="R">R</option>
            <option class="NC-17">NC-17</option>
            <option class="NR">NR - Unrated</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <app-infinite-scroll (scrolled)="onScroll()">
    <ul *ngIf="(movies | async)" class="columns is-multiline is-mobile">
      <ng-container *ngFor="let movie of (movies | async)">
        <!-- Render movie -->
        <li *ngIf="movie.poster_path; else elseBlock" class="movie column is-narrow">
          <a routerLink="/title/{{ movie.id }}">
            <img src="https://image.tmdb.org/t/p/w200/{{ movie.poster_path }}" class="image" alt="{{ movie.title }}" />
          </a>
        </li>
        <!-- Render person -->
        <ng-template #elseBlock>
          <li *ngIf="movie.profile_path" class="movie column is-narrow">
            <a routerLink="/person/{{ movie.id }}">
              <img src="https://image.tmdb.org/t/p/w200/{{ movie.profile_path }}" class="image"
                alt="{{ movie.name }}" />
            </a>
          </li>
        </ng-template>
      </ng-container>
    </ul>
  </app-infinite-scroll>
</div>
